import{j as e}from"./mantine-vendor-DFEgyK1l.js";import{r as t}from"./react-vendor-B2JW2VNT.js";import{a as D,A as q}from"./index-C7uzTQKX.js";import"./three-vendor-tR95i9su.js";const Y=()=>{const{user:j,isAuthenticated:g,login:p,logout:b,signup:f,forgotPassword:w,deleteAccount:y,googleSignIn:v}=D(),[S,l]=t.useState(!1),[C,i]=t.useState(!1),[P,r]=t.useState(!1),[A,u]=t.useState(!1),[n,o]=t.useState(""),[a,c]=t.useState(""),[h,m]=t.useState(""),k=async s=>{s.preventDefault(),await p(n,a)?(l(!1),o(""),c("")):alert("Login failed. Please check your credentials.")},N=async s=>{if(s.preventDefault(),a!==h){alert("Passwords do not match.");return}await f(n,a)?(i(!1),o(""),c(""),m("")):alert("Signup failed. Please try again.")},L=async s=>{s.preventDefault(),await w(n)?(alert("Password reset instructions sent to your email."),r(!1),o("")):alert("Forgot password request failed.")},M=async()=>{await y()?(alert("Your account has been deleted."),u(!1)):alert("Account deletion failed.")},d=async()=>{await v(),l(!1),i(!1)};return e.jsxs("div",{className:"account-page",children:[e.jsx("h1",{children:"My Account"}),g?e.jsxs("div",{className:"user-info",children:[e.jsxs("p",{children:["Welcome, ",j?.email,"!"]}),e.jsx("button",{onClick:()=>u(!0),className:"delete-button",children:"Delete Account"}),e.jsx("button",{onClick:b,children:"Logout"})]}):e.jsxs("div",{className:"auth-options",children:[e.jsx("p",{children:"You are not logged in."}),e.jsx("button",{onClick:()=>l(!0),children:"Login"}),e.jsx("button",{onClick:()=>i(!0),children:"Sign Up"}),e.jsx("button",{onClick:d,children:"Login with Google"})]}),S&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsx("h2",{children:"Login"}),e.jsxs("form",{onSubmit:k,children:[e.jsxs("label",{children:["Email:",e.jsx("input",{type:"email",value:n,onChange:s=>o(s.target.value),required:!0})]}),e.jsxs("label",{children:["Password:",e.jsx("input",{type:"password",value:a,onChange:s=>c(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",children:"Login"}),e.jsx("button",{type:"button",onClick:()=>l(!1),children:"Cancel"})]}),e.jsx("button",{type:"button",onClick:()=>{l(!1),r(!0)},children:"Forgot Password?"}),e.jsx("button",{type:"button",onClick:d,children:"Login with Google"})]})}),C&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsx("h2",{children:"Sign Up"}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("label",{children:["Email:",e.jsx("input",{type:"email",value:n,onChange:s=>o(s.target.value),required:!0})]}),e.jsxs("label",{children:["Password:",e.jsx("input",{type:"password",value:a,onChange:s=>c(s.target.value),required:!0})]}),e.jsxs("label",{children:["Confirm Password:",e.jsx("input",{type:"password",value:h,onChange:s=>m(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",children:"Sign Up"}),e.jsx("button",{type:"button",onClick:()=>i(!1),children:"Cancel"})]}),e.jsx("button",{type:"button",onClick:d,children:"Sign Up with Google"})]})}),P&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsx("h2",{children:"Forgot Password"}),e.jsxs("form",{onSubmit:L,children:[e.jsxs("label",{children:["Email:",e.jsx("input",{type:"email",value:n,onChange:s=>o(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",children:"Reset Password"}),e.jsx("button",{type:"button",onClick:()=>r(!1),children:"Cancel"})]})]})}),A&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsx("h2",{children:"Delete Account"}),e.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."}),e.jsx("button",{onClick:M,children:"Yes, Delete My Account"}),e.jsx("button",{onClick:()=>u(!1),children:"Cancel"})]})}),e.jsx(q,{children:e.jsx("p",{children:"This content is only visible to admin users."})})]})};export{Y as default};
