import{j as e,d as b,P as p,c,T as t,G as d,B as l,i as h,f as n,e as o,k as q,b as B}from"./mantine-vendor-DFEgyK1l.js";import{j as z,r as f}from"./react-vendor-B2JW2VNT.js";import{u as A}from"./index-C7uzTQKX.js";import"./three-vendor-tR95i9su.js";const Y=()=>{const{cart:u,clearCart:w}=A(),m=z(),[X,j]=f.useState(0),[s,S]=f.useState({fullName:"",address:"",city:"",zip:"",country:"USA"}),[i,N]=f.useState({cardNumber:"",expiryDate:"",cvc:""}),D=u.reduce((r,a)=>r+a.product.price*a.quantity,0),v=()=>j(r=>r<3?r+1:r),k=()=>j(r=>r>0?r-1:r),x=r=>{const{name:a,value:C}=r.target;S(g=>({...g,[a]:C}))},y=r=>{const{name:a,value:C}=r.target;N(g=>({...g,[a]:C}))},P=()=>{console.log("Placing order with:",{shippingDetails:s,paymentDetails:i,cart:u}),alert("Order Placed Successfully! (This is a mock order)"),w(),m("/order-confirmation")};return u.length===0?e.jsx(b,{size:"lg",py:"xl",className:"checkout-page",children:e.jsxs(p,{shadow:"sm",p:"xl",withBorder:!0,children:[e.jsx(c,{order:1,ta:"center",mb:"xl",children:"Checkout"}),e.jsx(t,{ta:"center",size:"lg",children:"Your cart is empty. Please add items to your cart to proceed to checkout."}),e.jsx(d,{justify:"center",mt:"md",children:e.jsx(l,{onClick:()=>m("/products"),children:"Continue Shopping"})})]})}):e.jsxs(b,{size:"lg",py:"xl",className:"checkout-page",children:[e.jsx(c,{order:1,ta:"center",mb:"xl",children:"Checkout"}),e.jsxs(h,{active:X,onStepClick:j,allowNextStepsSelect:!1,children:[e.jsx(h.Step,{label:"Shipping Address",description:"Enter your delivery details",children:e.jsxs(p,{shadow:"sm",p:"xl",withBorder:!0,children:[e.jsx(n,{label:"Full Name",placeholder:"John Doe",name:"fullName",value:s.fullName,onChange:x,required:!0}),e.jsx(n,{label:"Address",placeholder:"123 Main St",name:"address",value:s.address,onChange:x,mt:"md",required:!0}),e.jsxs(o,{mt:"md",children:[e.jsx(o.Col,{span:6,children:e.jsx(n,{label:"City",placeholder:"Anytown",name:"city",value:s.city,onChange:x,required:!0})}),e.jsx(o.Col,{span:6,children:e.jsx(n,{label:"ZIP Code",placeholder:"12345",name:"zip",value:s.zip,onChange:x,required:!0})})]}),e.jsx(q,{label:"Country",placeholder:"Select your country",data:["USA","Canada","Mexico"],name:"country",value:s.country,onChange:r=>S(a=>({...a,country:r||""})),mt:"md",required:!0}),e.jsx(d,{justify:"flex-end",mt:"xl",children:e.jsx(l,{onClick:v,children:"Next step"})})]})}),e.jsx(h.Step,{label:"Payment Details",description:"Enter your payment information",children:e.jsxs(p,{shadow:"sm",p:"xl",withBorder:!0,children:[e.jsx(n,{label:"Card Number",placeholder:"XXXX XXXX XXXX XXXX",name:"cardNumber",value:i.cardNumber,onChange:y,required:!0}),e.jsxs(o,{mt:"md",children:[e.jsx(o.Col,{span:6,children:e.jsx(n,{label:"Expiry Date",placeholder:"MM/YY",name:"expiryDate",value:i.expiryDate,onChange:y,required:!0})}),e.jsx(o.Col,{span:6,children:e.jsx(n,{label:"CVC",placeholder:"XXX",name:"cvc",value:i.cvc,onChange:y,required:!0})})]}),e.jsxs(d,{justify:"space-between",mt:"xl",children:[e.jsx(l,{variant:"default",onClick:k,children:"Back"}),e.jsx(l,{onClick:v,children:"Next step"})]})]})}),e.jsx(h.Step,{label:"Order Summary",description:"Review your order",children:e.jsxs(p,{shadow:"sm",p:"xl",withBorder:!0,children:[e.jsx(c,{order:3,mb:"md",children:"Items in Cart"}),u.map(r=>e.jsx(B,{shadow:"xs",p:"xs",mb:"sm",withBorder:!0,children:e.jsxs(d,{justify:"space-between",children:[e.jsxs(t,{children:[r.product.name," x ",r.quantity]}),e.jsxs(t,{children:["$",(r.product.price*r.quantity).toFixed(2)]})]})},r.product.id)),e.jsxs(d,{justify:"space-between",mt:"md",children:[e.jsx(t,{fw:700,size:"lg",children:"Total:"}),e.jsxs(t,{fw:700,size:"lg",children:["$",D.toFixed(2)]})]}),e.jsx(c,{order:3,mt:"xl",mb:"md",children:"Shipping Details"}),e.jsxs(t,{children:[e.jsx("strong",{children:"Name:"})," ",s.fullName]}),e.jsxs(t,{children:[e.jsx("strong",{children:"Address:"})," ",s.address,", ",s.city,", ",s.zip,", ",s.country]}),e.jsx(c,{order:3,mt:"xl",mb:"md",children:"Payment Details"}),e.jsxs(t,{children:[e.jsx("strong",{children:"Card Number:"})," **** **** **** ",i.cardNumber.slice(-4)]}),e.jsxs(t,{children:[e.jsx("strong",{children:"Expiry:"})," ",i.expiryDate]}),e.jsxs(d,{justify:"space-between",mt:"xl",children:[e.jsx(l,{variant:"default",onClick:k,children:"Back"}),e.jsx(l,{onClick:P,children:"Place Order"})]})]})}),e.jsx(h.Completed,{children:e.jsxs(b,{ta:"center",children:[e.jsx(c,{order:2,children:"Thank you for your order!"}),e.jsx(t,{mt:"md",children:"Your mock order has been placed successfully."}),e.jsx(l,{mt:"xl",onClick:()=>m("/"),children:"Back to Home"})]})})]})]})};export{Y as default};
